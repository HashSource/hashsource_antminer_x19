#!/bin/sh
#
# HashSource X19 - Set Hostname
#
# Reads /etc/hostname and sets system hostname
# Runs early in boot sequence (S01)
#

start() {
    printf "Setting hostname: "
    if [ -f /etc/hostname ]; then
        HOSTNAME=$(cat /etc/hostname)
        hostname "$HOSTNAME"
        echo "OK ($HOSTNAME)"
    else
        echo "WARN: /etc/hostname not found"
        hostname "HashSource"
    fi
}

stop() {
    :
}

case "$1" in
    start)
        start
        ;;
    stop)
        stop
        ;;
    restart|reload)
        stop
        start
        ;;
    *)
        echo "Usage: $0 {start|stop|restart}"
        exit 1
esac

exit 0
